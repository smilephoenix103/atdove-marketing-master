function Icegram(){}function Icegram_Message_Type(e){this.root_container="#icegram_messages_container",this.data=e,this.type=e.type,this.data.delay_time=parseInt(this.data.delay_time),"string"!=typeof this.data.link||""==this.data.link||/^tel:/i.test(this.data.link)||/^https?:\/\//i.test(this.data.link)||(this.data.link="http://"+this.data.link),this.set_template(this.get_template_default()),jQuery(window).trigger("msg_preinit.icegram",[this]),this.init()}Icegram.prototype.init=function(e){if(null!=e){jQuery(window).trigger("preinit.icegram",[e]),this.data=e,this.defaults=jQuery.extend({},e.defaults),this.message_data=e.messages,this.messages,this.tracking_data=[],this.message_template_cache={},this.map_id_to_index={},this.map_type_to_index={},this.mode=null==window.ig_mode?"local":window.ig_mode,this.powered_by={link:"https://www.icegram.com/?utm_source=inapp&utm_campaign=poweredby&utm_medium="},this.powered_by.text=this.defaults.powered_by_text,this.powered_by.logo=this.defaults.powered_by_logo,jQuery("body").append('<div id="icegram_messages_container"></div>');this.messages=[];var s=this;0<this.message_data.length&&jQuery.each(this.message_data,function(e,t){try{if(-1==window.location.href.indexOf("campaign_preview_id")){if("yes"==t.retargeting&&1==jQuery.cookie("icegram_campaign_shown_"+t.campaign_id))return;if("yes"==t.retargeting_clicked&&1==jQuery.cookie("icegram_campaign_clicked_"+t.campaign_id))return}"undefined"!==t.ig_mobile_popup&&1==t.ig_mobile_popup&&(t.delay_time=-1);var i=null,a=t.type.split("-").join(" ").ucwords().split(" ").join("_");i="function"==typeof window["Icegram_Message_Type_"+a]?new window["Icegram_Message_Type_"+a](t):new Icegram_Message_Type(t),s.messages.push(i),s.map_id_to_index["_"+t.id]=e,s.map_type_to_index[t.type]=jQuery.isArray(s.map_type_to_index[t.type])?s.map_type_to_index[t.type]:new Array,s.map_type_to_index[t.type].push(e)}catch(e){console.log(e)}}),jQuery(window).on("unload",function(){"function"==typeof window.icegram.submit_tracking_data&&window.icegram.submit_tracking_data(!1)}),setInterval(function(){"function"==typeof window.icegram.submit_tracking_data&&window.icegram.submit_tracking_data(!0)},5e3),jQuery(window).trigger("init.icegram",[this])}},Icegram.prototype.timer_tick=function(){},Icegram.prototype.get_template_fn=function(e){return this.message_template_cache[e]},Icegram.prototype.set_template_fn=function(e,t){this.message_template_cache[e]=t},Icegram.prototype.get_message=function(e){if(this.messages.length>e)return this.messages[e]},Icegram.prototype.get_message_by_id=function(e){if(this.map_id_to_index.hasOwnProperty("_"+e)){var t=this.map_id_to_index["_"+e];return this.get_message(t)}},Icegram.prototype.get_message_by_campaign_id=function(e){e=String(e);var a=[],t=this.messages;return e.indexOf(" ")&&(e=e.split(" ")),jQuery.each(e,function(e,i){jQuery.each(t,function(e,t){i==t.data.campaign_id&&a.push(t)})}),a},Icegram.prototype.get_messages_by_type=function(e){if(this.map_type_to_index.hasOwnProperty(e)){var t=this.map_type_to_index[e],i=[];if(jQuery.isArray(t)){var a=this;jQuery.each(t,function(e,t){i.push(a.get_message(t))})}return i}},Icegram.prototype.get_powered_by=function(e){var t=jQuery.extend({},this.powered_by);return t.link=t.link+(e||""),t},Icegram.prototype.track=function(e,t){"object"==typeof t&&t.hasOwnProperty("message_id")&&t.hasOwnProperty("campaign_id")&&-1==t.message_id.indexOf("_00")&&(jQuery(window).trigger("track.icegram",[e,t]),this.tracking_data.push({type:e,params:t}))},Icegram.prototype.submit_tracking_data=function(e){var t=window.location.protocol.split(":")[0],i=this.data.ajax_url.split("://")[0];if(0<this.tracking_data.length&&-1==window.location.href.indexOf("campaign_preview_id")&&!this.is_bot()){var a={type:"POST",url:this.data.ajax_url,async:e||!1,data:{action:"icegram_event_track",event_data:JSON.parse(JSON.stringify(this.tracking_data)),ig_remote_url:"remote"==this.mode?window.location.href:void 0},success:function(e,t,i){},error:function(e,t,i){}};"remote"==this.mode?(a.xhrFields={withCredentials:!0},a.crossDomain=!0,a.async=!0):t!=i&&(a.xhrFields={withCredentials:!0},jQuery.extend(a.data,{ig_local_url_cs:window.location.href})),jQuery.ajax(a),this.tracking_data=[]}},Icegram.prototype.is_bot=function(){return!!/bot|spider|crawl|sucker|ia_archiver|alexa|spade|slurp|webbug|ZyBorg|Feedfetcher-Google|Mediapartners-Google|aolserver|seamonkey|binlar|casper|comodo|feedfinder|jakarta|java|larbin|libwww|pycurl|linkwalker|steeler|nutch|turnit|zmeu/i.test(navigator.userAgent)},Icegram.prototype.hide_all_messages=function(){0<this.messages.length&&jQuery.each(this.messages,function(e,t){t.hide()})},Icegram_Message_Type.prototype.init=function(){this.render(),this.add_event_handlers()},Icegram_Message_Type.prototype.add_event_handlers=function(){this.el.on("click",{self:this},this.on_click),jQuery(window).on("resize",{self:this},this.on_resize)},Icegram_Message_Type.prototype.animations={},Icegram_Message_Type.prototype.embed_form=function(){if(-1===jQuery.inArray(this.data.type,["toast","badge","ribbon","exit-redirect"])){var e=null,t=this.data.form_layout,i=this.data.form_has_label,a=this.data.form_style||"none",s=this.data.label||void 0;if(a=a.toLowerCase().replace(" ","_"),null!=this.data.use_form&&"yes"==this.data.use_form&&(e=this.data.form_html),0<this.el.find("form.ig_embed_form").length){var r=this.el.find("form.ig_embed_form");t="inline",-1===jQuery.inArray(this.data.type,["messenger","tab","sidebar","interstitial","sticky"])&&(r.hasClass("ig_left")?t="left":r.hasClass("ig_right")&&(t="right")),"inline"==t&&this.el.find("form.ig_embed_form").replaceWith('<div class="ig_form_container layout_inline"></div>'),i=0<r.find(".ig_form_el_group label").length?"yes":void 0,0==r.find(".ig_button").length&&0==r.find("button[type=submit]").length&&(s=s||"Submit",r.append('<input class="ig_button" type="submit" value="'+s+'">')),e=jQuery("<div/>").append(r).html()}if(null==e)this.el.find(".ig_form_container").remove();else{var o=window.icegram.formProcess(this,e);if(o&&0==this.el.find(".ig_form_container form").length){var n=null!=this.data.form_header&&""!=this.data.form_header?'<div class="ig_form_header">'+this.data.form_header+"</div>":"",_=null!=this.data.form_footer&&""!=this.data.form_footer?'<div class="ig_form_footer">'+this.data.form_footer+"</div>":"",d=jQuery("<div/>").html(e);if(this.el.find(".ig_form_container").append(n).append(o).append(_),this.data.rainmaker_form_code&&""!=this.data.rainmaker_form_code){this.data.cta&&"form"!==this.data.cta&&this.data.show_response&&this.data.response_text&&(!this.data.response_text||""!=this.data.response_text)||(this.data.response_text=d.find(".rm_form_message").html()||""),this.el.find(".ig_form_container").addClass(d.find(".rm_form_container").data("type")).data("form-id",d.find(".rm_form_container").data("form-id")).addClass("rainmaker_form");var l=d.find("#rm_script"),c=d.find("#rm_style");this.el.find(".ig_form_container").prepend(c).append(l);var p=d.find(".rm_captcha"),g=d.find(".rm_form_error_message");this.el.find(".ig_form_container form").prepend(g).append(p)}if(0<this.el.find('[data-es_form_id = "es_shortcode_form" ]').length){this.el.find('[data-es_form_id = "es_shortcode_form" ]').addClass("es_shortcode_form");var m=jQuery(e).find(".es_captcha");this.el.find(".es_shortcode_form").parent().append(m),this.el.find(".es_shortcode_form").parent().addClass("es_form_container")}if(0<this.el.find('form[data-source="ig-es"]').length){m=jQuery(e).find(".es_captcha");this.el.find('form[data-source="ig-es"] .ig_button').parent().before(m),this.el.find('form[data-source="ig-es"] .es_captcha').addClass("ig_form_els"),this.el.find('form[data-source="ig-es"]').addClass("es_form_container")}null==i?this.el.find(".ig_el_label").not("span.ig_el_label").remove():(this.el.find("input, textarea").removeAttr("placeholder"),this.el.find("select option.ig_el_placeholder").remove()),0<this.el.find(".ig_form_container .ig_button").length&&(this.el.find(".ig_button").not(".ig_form_container .ig_button").hide(),s=s||this.el.find(".ig_button").val()||"Submit",this.el.find(".ig_button").val(s)),this.el.addClass("ig_form_"+t);var f="";null!=this.data.form_bg_color&&""!=this.data.form_bg_color?(this.el.find(".ig_form_container").css("background-color",this.data.form_bg_color),f+=".ig_form_"+t+".ig_form_"+a+" .ig_form_container:before{ background-color:"+this.data.form_bg_color+"; border-color:"+this.data.form_bg_color+";}"):f+=".ig_form_"+t+".ig_form_"+a+" .ig_form_container:before{ display:none;}",null!=this.data.form_text_color&&""!=this.data.form_text_color&&this.el.find(".ig_form_container").css("color",this.data.form_text_color),this.el.addClass("ig_form_"+a).find(".ig_form_container").prepend('<style type="text/css">'+f+"</style>"),jQuery.each(this.el.find(".ig_form_container")||[],function(e,t){jQuery(t).find(".ig_form_els").first().addClass("ig_form_els_first").end().last().addClass("ig_form_els_last")})}}}},Icegram_Message_Type.prototype.render=function(){this.pre_render();var e=this.render_template();try{jQuery(this.root_container).append(e)}catch(e){}this.dom_id="icegram_message_"+this.data.id,this.el=jQuery("#"+this.dom_id),this.set_position();var t=window.icegram.get_powered_by(this.type);if(t.hasOwnProperty("link")&&t.hasOwnProperty("text")&&""!=t.text&&this.add_powered_by(t),null!=this.data.headline&&""!=this.data.headline||this.el.find(".ig_headline").hide(),null!=this.data.icon&&""!=this.data.icon||this.el.addClass("ig_no_icon").find(".ig_icon").remove(),null!=this.data.message&&""!=this.data.message||this.el.find(".ig_message").hide(),null!=this.data.label&&""!=this.data.label||this.el.find(".ig_button").hide(),this.embed_form(),null==this.data.use_theme_defaults||"yes"!=this.data.use_theme_defaults){if(null!=this.data.text_color&&""!=this.data.text_color&&(this.el.css("color",this.data.text_color),this.el.find(".ig_container").css("color",this.data.text_color)),null!=this.data.bg_color&&""!=this.data.bg_color&&(this.el.css("background-color",this.data.bg_color),this.el.find(".ig_container").css("background-color",this.data.bg_color)),null!=this.data.cta_bg_color&&""!=this.data.cta_bg_color){this.el.find('.ig_button, form input[type="submit"]').css("background-color",this.data.cta_bg_color);var i=window.icegram.hexToHsl(this.data.cta_bg_color);this.el.find('.ig_button, form input[type="submit"]').css("border-color","hsl("+i.h+","+(i.s-5)+"%,"+(i.l-8)+"%)")}null!=this.data.cta_text_color&&""!=this.data.cta_text_color&&this.el.find('.ig_button, form input[type="submit"]').css("color",this.data.cta_text_color)}this.data.use_custom_code&&this.data.custom_css&&this.el.prepend('<style id="ig_custom_css_'+this.data.id+'" type="text/css">'+this.data.custom_css.replace(/#ig_this_message/g,"#"+this.dom_id)+"</style>"),"string"==typeof this.data.link&&""!=this.data.link&&this.el.parent().find(".ig_cta, .ig_button").css("cursor","pointer"),this.post_render(),this.hide({},!0),this.set_up_show_trigger()},Icegram.prototype.formProcess=function(e,t){var i=jQuery("<div/>").html(t).find('input[name="fake_text"]').data("required_field",!0).end().find("input.rm_required_feild").data("required_field",!0).end().find(".gform_validation_container input").data("required_field",!0).end().find(".rm_captcha_input").data("keep_class",!0).end().find(".es_captcha_input").data("keep_class",!0).end().find(".gdpr-label").data("keep_class",!0).end().find(".required_field").data("required_field",!0).end().find("input, label, select, textarea, button").not(".rm_captcha_input, .rm_captcha_verify").not(".es_captcha_input, .es_captcha_verify ").not("br");if(0<i.length){var r=jQuery('<div class="ig_embed_form_container ig_clear_fix"></div>'),a=jQuery("<div/>").html(t).find("form").removeAttr("class").removeAttr("style").addClass("ig_clear_fix").empty(),o=".",n=0;jQuery.each(i,function(e,t){var i=jQuery(t),a=jQuery('<div class="ig_form_els"></div>');if(i.removeAttr("style"),i.data("keep_class")||i.removeAttr("class"),(-1==i.attr("tabindex")||i.is('*[name*="[abs]"]')||i.data("required_field")||"data[email]"==i.attr("name")||"_mc4wp_required_but_not_really"==i.attr("name"))&&(i.addClass("ig_form_required_field").removeData("required_field"),n--),"hidden"!=i.attr("type")&&!0!==i.prop("disabled")||(i.addClass("ig_form_hidden_field"),n--),i.is("label"))o="gdpr-label"==i.attr("class")?(i.find("input[type=checkbox]").remove(),i.not("input, select, textarea, button, span, br").html().replace(/\s+/g," ")||"."):i.not("input, select, textarea, button, span, br").text().replace(/\s+/g," ")||".";else if(!(i.is("input")||i.is("button")||i.is("textarea")||i.is("select"))||i.is("input[type=radio]")||i.is("input[type=checkbox]"))(i.is("input[type=radio]")||i.is("input[type=checkbox]"))&&(label_class="ig_el_label ig_button_label","."!=o&&(label_class="ig_el_label"),jQuery('<label><span class="'+label_class+'">'+o+"</span></label>").prepend(i).appendTo(a),o=".",a.addClass("ig_form_el_radio"),r.append(a),n++);else{if(i.removeAttr("id"),i.is("button")){var s=i.not("br, span, div").text().trim()||"";i.remove(),i=jQuery('<input type="submit" value="'+s+'">')}!i.is("input[type=submit]")&&!i.is("input[type=button]")||i.is(".ig_form_hidden_field, .ig_form_required_field")||i.addClass("ig_button"),(i.is("input[type=text]")||i.is("input[type=email]"))&&i.attr("size",25),label_class="ig_el_label ig_button_label","."!=o&&(label_class="ig_el_label",i.is("select")?jQuery('<option class="ig_el_placeholder">'+o+"</option>").prependTo(i):i.attr("placeholder",o)),jQuery('<label class="'+label_class+'">'+o+"</label>").appendTo(a),o=".",a.append(i),r.append(a),n++}});return n=n<4?n:4,r.find(".ig_form_required_field").length<=0&&r.append('<div class="ig_form_els"><input class="ig_form_required_field" type="text" tabindex="-1" value="" /></div>'),r.addClass(["","ig_full","ig_half","ig_third","ig_quater"][n]).find(".ig_form_required_field").parent().removeClass("ig_form_els").css({position:"absolute",left:"-5000px"}).end().end().find(".ig_form_hidden_field").parent().removeClass("ig_form_els").css({display:"none"}),a.append(r),jQuery("<div/>").append(a).html()}return null},Icegram_Message_Type.prototype.render_template=function(){return"function"!=typeof window.icegram.get_template_fn(this.type)&&window.icegram.set_template_fn(this.type,new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+this.template.replace(/[\r\t\n]/g," ").split("{{").join("\t").replace(/((^|\}\})[^\t]*)'/g,"$1\r").replace(/\t=(.*?)\}\}/g,"',$1,'").split("\t").join("');").split("}}").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")),window.icegram.get_template_fn(this.type)(this.data)},Icegram_Message_Type.prototype.pre_render=function(){},Icegram_Message_Type.prototype.post_render=function(){},Icegram_Message_Type.prototype.set_up_show_trigger=function(){if(isNaN(this.data.delay_time))this.show();else if(0<=this.data.delay_time){var e=this;this.timer=setTimeout(function(){e.show()},1e3*this.data.delay_time)}},Icegram_Message_Type.prototype.set_template=function(e){this.template=e},Icegram_Message_Type.prototype.get_template_default=function(){return'<div id="icegram_message_{{=id}}" class="icegram"><div class="ig_headline">{{=headline}}</div></div>'},Icegram_Message_Type.prototype.show=function(e,t){this.is_visible()||(this.animate("in"),this.pre_show(),this.el.show(e),this.el.addClass("ig_show").removeClass("ig_hide"),!0!==t&&this.track("shown"),this.post_show());window.icegram.adjustFormContainerHeight(this)},Icegram_Message_Type.prototype.hide=function(e,t){if(this.is_visible()){var i=this;this.animate("out"),this.pre_hide(),setTimeout(function(){i.el.hasClass("ig_no_hide")||i.el.hide(e),i.el.addClass("ig_hide").removeClass("ig_show")},500),!0!==t&&this.track("closed"),this.post_hide()}},Icegram_Message_Type.prototype.set_position=function(){},Icegram_Message_Type.prototype.add_powered_by=function(e){},Icegram_Message_Type.prototype.pre_show=function(){},Icegram_Message_Type.prototype.post_show=function(){},Icegram_Message_Type.prototype.pre_hide=function(){},Icegram_Message_Type.prototype.post_hide=function(){},Icegram_Message_Type.prototype.track=function(e,t){"function"==typeof window.icegram.track&&(t=t||{},jQuery.extend(t,{message_id:this.data.id,campaign_id:this.data.campaign_id,expiry_time:this.data.expiry_time,expiry_time_clicked:this.data.expiry_time_clicked}),window.icegram.track(e,t))},Icegram_Message_Type.prototype.is_visible=function(){return this.el.hasClass("ig_show")},Icegram_Message_Type.prototype.toggle=function(e){this.is_visible()?this.hide(e):this.show(e)},Icegram_Message_Type.prototype.on_click=function(e){if(e.data=e.data||{self:this},jQuery(e.target).filter(".ig_close").length||jQuery(e.target).parents(".ig_close").length)e.data.self.hide();else{var t=jQuery(e.target).closest(".icegram").find("form:visible").first();(jQuery(e.target).filter(".ig_button, .ig_cta, :submit").length||jQuery(e.target).parents("button[type=submit]").length||jQuery(e.target).filter(".es_submit_button").length||jQuery(e.target).parents(".ig_button, .ig_cta").length&&!(0<t.find(".ig_button, input[type=button], input[type=submit], button[type=submit]").length))&&jQuery(e.target).not(".donot-track").length&&e.data.self.on_cta_click(e)}},Icegram_Message_Type.prototype.on_resize=function(e){},Icegram_Message_Type.prototype.on_cta_click=function(e){e.data=e.data||{self:this};var t=jQuery(e.target).closest(".icegram").find("form:visible").first();if(jQuery(t).length&&jQuery(t).find(".ig_form_required_field").length&&""!==jQuery(t).find(".ig_form_required_field").val())return e.preventDefault(),void e.data.self.hide();e.data.self.track("clicked"),jQuery(t).length?jQuery(t).submit(function(e){jQuery(t).hasClass("ig_form_init_done")&&e.preventDefault()}):"string"==typeof e.data.self.data.link&&""!=e.data.self.data.link?(window.location.href=e.data.self.data.link,e.data.self.hide()):!1!==e.data.self.data.hide&&e.data.self.hide()},Icegram_Message_Type.prototype.animate=function(e){if(void 0!==this.data.animation){var t=this.data.animation,i=this;"in"==e?"function"==typeof this.animations[t+"_in"]?this.animations[t+"_in"](i):this.el.hasClass("ig_anim_"+t+"_in")||(this.el.removeClass("ig_anim_"+t+"_out"),setTimeout(function(){i.el.addClass("ig_anim_"+t+"_in")},1)):"out"==e&&("function"==typeof this.animations[t+"_out"]?this.animations[t+"_out"](i):(this.el.removeClass("ig_anim_"+t+"_in"),setTimeout(function(){i.el.addClass("ig_anim_"+t+"_out")},1)))}},String.prototype.ucwords=function(){return this.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},Icegram.prototype.adjustFormContainerHeight=function(e){var t="";if(e.el.hasClass("ig_form_left")||e.el.hasClass("ig_form_right")){t=e.el.hasClass("ig_form_left")?"left":"right";var i=e.el.find(".ig_data").outerHeight()>e.el.find(".ig_form_container.layout_"+t).outerHeight()?e.el.find(".ig_data").outerHeight():e.el.find(".ig_form_container.layout_"+t).outerHeight();e.el.find(".ig_form_container").outerHeight(i)}},Icegram.prototype.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},Icegram.prototype.rgbToHsl=function(e,t,i){e/=255,t/=255,i/=255;var a,s,r=Math.max(e,t,i),o=Math.min(e,t,i),n=(r+o)/2;if(r==o)a=s=0;else{var _=r-o;switch(s=.5<n?_/(2-r-o):_/(r+o),r){case e:a=(t-i)/_;break;case t:a=(i-e)/_+2;break;case i:a=(e-t)/_+4}n=Math.floor(100*n),s=Math.floor(100*s),(a=Math.floor(60*a))<0&&(a+=360)}return{h:a,s:s,l:n}},Icegram.prototype.hexToHsl=function(e){var t=window.icegram.hexToRgb(e);return window.icegram.rgbToHsl(t.r,t.g,t.b)},"function"!=typeof Object.create&&function(){function t(){}Object.create=function(e){if(1<arguments.length)throw Error("Second argument not supported");if(null===e)throw Error("Cannot set a null [[Prototype]]");if("object"!=typeof e)throw TypeError("Argument must be an object");return t.prototype=e,new t}}();var es_responseHandler=function(e,t){if("undefined"!=typeof icegram){var i=((jQuery(e.target).closest("[id^=icegram_message_]")||{}).attr("id")||"").split("_").pop()||0,a=icegram.get_message_by_id(i)||void 0;void 0!==a&&(jQuery(e.target).find(".es_msg_ig").remove(),"form_via_ajax"===a.data.cta&&"success"===t.detail.es_response?(""===a.data.response_text&&(a.data.response_text=t.detail.msg),a.el.trigger("form_success.ig_cta",[a])):void 0!==a.data.use_form&&jQuery(e.target).append('<div class="es_msg es_msg_ig es_subscription_message '+t.detail.es_response+'">'+t.detail.msg+"</div>"))}};jQuery(document).on("es_response",es_responseHandler),jQuery.cookie,function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(g){function m(e){return h.raw?e:encodeURIComponent(e)}function f(e,t){var i=h.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),h.json?JSON.parse(e):e}catch(e){}}(e);return g.isFunction(t)?t(i):i}var a=/\+/g,h=g.cookie=function(e,t,i){if(void 0!==t&&!g.isFunction(t)){if("number"==typeof(i=g.extend({},h.defaults,i)).expires){var a=i.expires,s=i.expires=new Date;s.setTime(+s+864e5*a)}return document.cookie=[m(e),"=",function(e){return m(h.json?JSON.stringify(e):String(e))}(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var r,o=e?void 0:{},n=document.cookie?document.cookie.split("; "):[],_=0,d=n.length;_<d;_++){var l=n[_].split("="),c=(r=l.shift(),h.raw?r:decodeURIComponent(r)),p=l.join("=");if(e&&e===c){o=f(p,t);break}e||void 0===(p=f(p))||(o[c]=p)}return o};h.defaults={},g.removeCookie=function(e,t){return void 0!==g.cookie(e)&&(g.cookie(e,"",g.extend({},t,{expires:-1})),!g.cookie(e))}});;function Icegram_Message_Type_Action_Bar(e){Icegram_Message_Type.apply(this,arguments)}Icegram_Message_Type_Action_Bar.prototype=Object.create(Icegram_Message_Type.prototype),(Icegram_Message_Type_Action_Bar.prototype.constructor=Icegram_Message_Type_Action_Bar).prototype.get_template_default=function(){return'<div class="icegram action_bar_{{=id}}" ><div class="ig_action_bar ig_container ig_{{=theme}} ig_no_hide" id="icegram_message_{{=id}}"><div class="ig_content ig_clear_fix"><div class="ig_close" id="ig_close_{{=id}}"><span></span></div><div class="ig_form_container layout_left"></div><div class="ig_data ig_clear_fix"><div class="ig_headline">{{=headline}}</div><div class="ig_message">{{=message}}</div></div><div class="ig_button">{{=label}}</div><div class="ig_form_container layout_right layout_bottom"></div></div></div></div>'},Icegram_Message_Type_Action_Bar.prototype.post_render=function(){Icegram_Message_Type.prototype.post_render.apply(this,arguments),null!=this.data.use_theme_defaults&&"yes"==this.data.use_theme_defaults||null!=this.data.bg_color&&""!=this.data.bg_color&&this.el.find(".ig_close").css("background-color",this.data.bg_color),"21"!==this.data.position&&0==jQuery("#ig_body_pushdown").length&&jQuery("body").prepend('<div id="ig_body_pushdown"></div>')},Icegram_Message_Type_Action_Bar.prototype.set_position=function(){switch(this.data.position){case"21":this.el.addClass("ig_bottom");break;case"01":default:this.el.addClass("ig_top")}},Icegram_Message_Type_Action_Bar.prototype.add_powered_by=function(e){this.el.addClass("ig_has_pwby").find(".ig_content").before('<div class="ig_powered_by" ><a href="'+e.link+'" target="_blank"><img src="'+e.logo+'" title="'+e.text+'"/></a></div>')},Icegram_Message_Type_Action_Bar.prototype.on_click=function(e){e.data=e.data||{self:this},jQuery(e.target).filter(".ig_show .ig_close, .ig_show .ig_close span").length?e.data.self.hide():jQuery(e.target).filter(".ig_hide .ig_close, .ig_hide .ig_close span").length?e.data.self.show():Icegram_Message_Type.prototype.on_click.apply(this,arguments)},Icegram_Message_Type_Action_Bar.prototype.post_show=function(){if("21"!==this.data.position){var i=this.el.outerHeight()||0;jQuery("#ig_body_pushdown").css("display","block").animate({height:i},500),jQuery("*",document.body).not(".ig_action_bar, .ig_popup, .ig_messenger, .ig_inline, .ig_overlay, .ig_sidebar, .ig_tab, .ig_interstitial ,#ig_body_pushdown ").each(function(){var e=window.getComputedStyle(this,null);("fixed"===e.position||"absolute"===e.position&&("BODY"===this.parentNode.nodeName||"HEADER"===this.nodeName))&&!isNaN(parseInt(e.top,10))&&this.getBoundingClientRect().top<=i&&jQuery(this).data("ig_fx_top",e.top).animate({top:parseInt(e.top,10)+i+"px"},300)})}},Icegram_Message_Type_Action_Bar.prototype.pre_hide=function(){"21"!==this.data.position&&(jQuery("#ig_body_pushdown").animate({height:0},300).css("display","none"),jQuery("*",document.body).not(".ig_action_bar, .ig_popup, .ig_messenger, .ig_inline, .ig_overlay, .ig_sidebar, .ig_tab, .ig_interstitial ,#ig_body_pushdown ").each(function(){void 0!==jQuery(this).data("ig_fx_top")&&jQuery(this).animate({top:jQuery(this).data("ig_fx_top")},200)}))};;function Icegram_Message_Type_Messenger(e){Icegram_Message_Type.apply(this,arguments)}Icegram_Message_Type_Messenger.prototype=Object.create(Icegram_Message_Type.prototype),(Icegram_Message_Type_Messenger.prototype.constructor=Icegram_Message_Type_Messenger).prototype.get_template_default=function(){return'<div class="icegram ig_messenger ig_{{=theme}}  ig_container ig_cta" id="icegram_message_{{=id}}"><div class="ig_content"><div class="ig_close" id="ig_close_{{=id}}"></div><div class="ig_data"><div class="ig_headline">{{=headline}}</div><div class="ig_body"><img class="ig_icon" src="{{=icon}}"/><div class="ig_message">{{=message}}</div></div><div class="ig_footer"></div></div></div></div>'},Icegram_Message_Type_Messenger.prototype.set_position=function(){switch(this.data.position){case"20":this.el.addClass("ig_left ig_bottom");break;case"22":default:this.el.addClass("ig_right ig_bottom")}},Icegram_Message_Type_Messenger.prototype.add_powered_by=function(e){this.el.addClass("ig_has_pwby").find(".ig_content").after('<div class="ig_powered_by"><a href="'+e.link+'" target="_blank">'+e.text+"</a></div>")};;function Icegram_Message_Type_Popup(e){Icegram_Message_Type.apply(this,arguments)}Icegram_Message_Type_Popup.prototype=Object.create(Icegram_Message_Type.prototype),(Icegram_Message_Type_Popup.prototype.constructor=Icegram_Message_Type_Popup).prototype.get_template_default=function(){return'<div id="icegram_message_{{=id}}" class="icegram ig_popup ig_{{=theme}} ig_container mfp-hide"><div class="ig_close" id="popup_box_close_{{=id}}"></div><div class="ig_clear_fix" data={{=id}}><div class="ig_bg_overlay"></div><div class="ig_form_container layout_left"></div><div class="ig_data ig_clear_fix"><div class="ig_headline">{{=headline}}</div><div class="ig_content"><div class="ig_message ig_clear_fix">{{=message}}</div></div><div class="ig_button" >{{=label}}</div></div><div class="ig_form_container layout_right layout_bottom"></div></div></div>'},Icegram_Message_Type_Popup.prototype.post_render=function(){Icegram_Message_Type.prototype.post_render.apply(this,arguments),null!=this.data.use_theme_defaults&&"yes"==this.data.use_theme_defaults||null!=this.data.bg_color&&""!=this.data.bg_color&&this.el.find(".ig_bg_overlay").css("border-color",this.data.bg_color)},Icegram_Message_Type_Popup.prototype.show=function(e,t){if(!this.is_visible()){var i=this,o="#icegram_message_"+this.data.id;this.animate("in"),window.ig_popup=jQuery.magnificPopup,window.ig_popup.open({items:{src:o,type:"inline"},showCloseBtn:!1,callbacks:{close:function(){!0!==t&&i.track("closed"),i.el.removeClass("ig_show")},open:function(){window.icegram.adjustFormContainerHeight(i)}}}),i.el.addClass("ig_show").removeClass("ig_hide"),!0!==t&&this.track("shown")}},Icegram_Message_Type_Popup.prototype.add_powered_by=function(e){setTimeout(function(){jQuery(".mfp-wrap").append('<div class="ig_powered_by"><a href="'+e.link+'" target="_blank">'+e.text+"</a></div>")},1e3+1e3*this.data.delay_time)},Icegram_Message_Type_Popup.prototype.hide=function(e,t){if(this.is_visible()){var i="#icegram_message_"+this.data.id,o=this;this.animate("out"),setTimeout(function(){o.el.addClass("ig_hide").removeClass("ig_show"),jQuery.magnificPopup.close({items:{src:i,type:"inline"}})},500)}},void 0===window.ig_popup&&function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}(function(p){function e(){}function d(e,t){g.ev.on(i+e+C,t)}function u(e,t,i,o){var n=document.createElement("div");return n.className="mfp-"+e,i&&(n.innerHTML=i),o?t&&t.appendChild(n):(n=p(n),t&&n.appendTo(t)),n}function m(e,t){g.ev.triggerHandler(i+e,t),g.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),g.st.callbacks[e]&&g.st.callbacks[e].apply(g,p.isArray(t)?t:[t]))}function f(e){return e===t&&g.currTemplate.closeBtn||(g.currTemplate.closeBtn=p(g.st.closeMarkup.replace("%title%",g.st.tClose)),t=e),g.currTemplate.closeBtn}function a(){p.magnificPopup.instance||((g=new e).init(),p.magnificPopup.instance=g)}var g,o,v,n,h,t,l="Close",c="BeforeClose",_="MarkupParse",y="Open",i="mfp",C="."+i,w="mfp-ready",s="mfp-removing",r=!!window.jQuery,b=p(window);e.prototype={constructor:e,init:function(){var e=navigator.appVersion;g.isIE7=-1!==e.indexOf("MSIE 7."),g.isIE8=-1!==e.indexOf("MSIE 8."),g.isLowIE=g.isIE7||g.isIE8,g.isAndroid=/android/gi.test(e),g.isIOS=/iphone|ipad|ipod/gi.test(e),g.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),g.probablyMobile=g.isAndroid||g.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),v=p(document),g.popupsCache={}},open:function(e){var t;if(!1===e.isObj){g.items=e.items.toArray(),g.index=0;var i,o=e.items;for(t=0;t<o.length;t++)if((i=o[t]).parsed&&(i=i.el[0]),i===e.el[0]){g.index=t;break}}else g.items=p.isArray(e.items)?e.items:[e.items],g.index=e.index||0;if(!g.isOpen){g.types=[],h="",e.mainEl&&e.mainEl.length?g.ev=e.mainEl.eq(0):g.ev=v,e.key?(g.popupsCache[e.key]||(g.popupsCache[e.key]={}),g.currTemplate=g.popupsCache[e.key]):g.currTemplate={},g.st=p.extend(!0,{},p.magnificPopup.defaults,e),g.fixedContentPos="auto"===g.st.fixedContentPos?!g.probablyMobile:g.st.fixedContentPos,g.st.modal&&(g.st.closeOnContentClick=!1,g.st.closeOnBgClick=!1,g.st.showCloseBtn=!1,g.st.enableEscapeKey=!1),g.bgOverlay||(g.bgOverlay=u("bg").on("click"+C,function(){g.close()}),g.wrap=u("wrap").attr("tabindex",-1).on("click"+C,function(e){g._checkIfClose(e.target)&&g.close()}),g.container=u("container",g.wrap)),g.contentContainer=u("content"),g.st.preloader&&(g.preloader=u("preloader",g.container,g.st.tLoading));var n=p.magnificPopup.modules;for(t=0;t<n.length;t++){var a=n[t];a=a.charAt(0).toUpperCase()+a.slice(1),g["init"+a].call(g)}m("BeforeOpen"),g.st.showCloseBtn&&(g.st.closeBtnInside?(d(_,function(e,t,i,o){i.close_replaceWith=f(o.type)}),h+=" mfp-close-btn-in"):g.wrap.append(f())),g.st.alignTop&&(h+=" mfp-align-top"),g.fixedContentPos?g.wrap.css({overflow:g.st.overflowY,overflowX:"hidden",overflowY:g.st.overflowY}):g.wrap.css({top:b.scrollTop(),position:"absolute"}),!1!==g.st.fixedBgPos&&("auto"!==g.st.fixedBgPos||g.fixedContentPos)||g.bgOverlay.css({height:v.height(),position:"absolute"}),g.st.enableEscapeKey&&v.on("keyup"+C,function(e){27===e.keyCode&&g.close()}),b.on("resize"+C,function(){g.updateSize()}),g.st.closeOnContentClick||(h+=" mfp-auto-cursor"),h&&g.wrap.addClass(h);var s=g.wH=b.height(),r={};if(g.fixedContentPos&&g._hasScrollBar(s)){var l=g._getScrollbarSize();l&&(r.marginRight=l)}g.fixedContentPos&&(g.isIE7?p("body, html").css("overflow","hidden"):r.overflow="hidden");var c=g.st.mainClass;return g.isIE7&&(c+=" mfp-ie7"),c&&g._addClassToMFP(c),g.updateItemHTML(),m("BuildControls"),p("html").css(r),g.bgOverlay.add(g.wrap).prependTo(g.st.prependTo||p(document.body)),g._lastFocusedEl=document.activeElement,setTimeout(function(){g.content?(g._addClassToMFP(w),g._setFocus()):g.bgOverlay.addClass(w),v.on("focusin"+C,g._onFocusIn)},16),g.isOpen=!0,g.updateSize(s),m(y),e}g.updateItemHTML()},close:function(){g.isOpen&&(m(c),g.isOpen=!1,g.st.removalDelay&&!g.isLowIE&&g.supportsTransition?(g._addClassToMFP(s),setTimeout(function(){g._close()},g.st.removalDelay)):g._close())},_close:function(){m(l);var e=s+" "+w+" ";if(g.bgOverlay.detach(),g.wrap.detach(),g.container.empty(),g.st.mainClass&&(e+=g.st.mainClass+" "),g._removeClassFromMFP(e),g.fixedContentPos){var t={marginRight:""};g.isIE7?p("body, html").css("overflow",""):t.overflow="",p("html").css(t)}v.off("keyup.mfp focusin"+C),g.ev.off(C),g.wrap.attr("class","mfp-wrap").removeAttr("style"),g.bgOverlay.attr("class","mfp-bg"),g.container.attr("class","mfp-container"),!g.st.showCloseBtn||g.st.closeBtnInside&&!0!==g.currTemplate[g.currItem.type]||!g.currTemplate.closeBtn||g.currTemplate.closeBtn.detach(),g._lastFocusedEl&&p(g._lastFocusedEl).focus(),g.currItem=null,g.content=null,g.currTemplate=null,g.prevHeight=0,m("AfterClose")},updateSize:function(e){if(g.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t;g.wrap.css("height",i),g.wH=i}else g.wH=e||b.height();g.fixedContentPos||g.wrap.css("height",g.wH),m("Resize")},updateItemHTML:function(){var e=g.items[g.index];g.contentContainer.detach(),g.content&&g.content.detach(),e.parsed||(e=g.parseEl(g.index));var t=e.type;if(m("BeforeChange",[g.currItem?g.currItem.type:"",t]),g.currItem=e,!g.currTemplate[t]){var i=!!g.st[t]&&g.st[t].markup;m("FirstMarkupParse",i),g.currTemplate[t]=!i||p(i)}n&&n!==e.type&&g.container.removeClass("mfp-"+n+"-holder");var o=g["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,g.currTemplate[t]);g.appendContent(o,t),e.preloaded=!0,m("Change",e),n=e.type,g.container.prepend(g.contentContainer),m("AfterChange")},appendContent:function(e,t){(g.content=e)?g.st.showCloseBtn&&g.st.closeBtnInside&&!0===g.currTemplate[t]?g.content.find(".mfp-close").length||g.content.append(f()):g.content=e:g.content="",m("BeforeAppend"),g.container.addClass("mfp-"+t+"-holder"),g.contentContainer.append(g.content)},parseEl:function(e){var t,i=g.items[e];if((i=i.tagName?{el:p(i)}:(t=i.type,{data:i,src:i.src})).el){for(var o=g.types,n=0;n<o.length;n++)if(i.el.hasClass("mfp-"+o[n])){t=o[n];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=t||g.st.type||"inline",i.index=e,i.parsed=!0,g.items[e]=i,m("ElementParse",i),g.items[e]},addGroup:function(t,i){function e(e){e.mfpEl=this,g._openClick(e,t,i)}var o="click.magnificPopup";(i=i||{}).mainEl=t,i.items?(i.isObj=!0,t.off(o).on(o,e)):(i.isObj=!1,i.delegate?t.off(o).on(o,i.delegate,e):(i.items=t).off(o).on(o,e))},_openClick:function(e,t,i){if((void 0!==i.midClick?i.midClick:p.magnificPopup.defaults.midClick)||2!==e.which&&!e.ctrlKey&&!e.metaKey){var o=void 0!==i.disableOn?i.disableOn:p.magnificPopup.defaults.disableOn;if(o)if(p.isFunction(o)){if(!o.call(g))return!0}else if(b.width()<o)return!0;e.type&&(e.preventDefault(),g.isOpen&&e.stopPropagation()),i.el=p(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),g.open(i)}},updateStatus:function(e,t){if(g.preloader){o!==e&&g.container.removeClass("mfp-s-"+o),t||"loading"!==e||(t=g.st.tLoading);var i={status:e,text:t};m("UpdateStatus",i),e=i.status,t=i.text,g.preloader.html(t),g.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),g.container.addClass("mfp-s-"+e),o=e}},_checkIfClose:function(e){if(!p(e).hasClass("mfp-prevent-close")){var t=g.st.closeOnContentClick,i=g.st.closeOnBgClick;if(t&&i)return!0;if(!g.content||p(e).hasClass("mfp-close")||g.preloader&&e===g.preloader[0])return!0;if(e===g.content[0]||p.contains(g.content[0],e)){if(t)return!0}else if(i&&p.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){g.bgOverlay.addClass(e),g.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),g.wrap.removeClass(e)},_hasScrollBar:function(e){return(g.isIE7?v.height():document.body.scrollHeight)>(e||b.height())},_setFocus:function(){(g.st.focus?g.content.find(g.st.focus).eq(0):g.wrap).focus()},_onFocusIn:function(e){if(e.target!==g.wrap[0]&&!p.contains(g.wrap[0],e.target))return g._setFocus(),!1},_parseMarkup:function(n,e,t){var a;t.data&&(e=p.extend(t.data,e)),m(_,[n,e,t]),p.each(e,function(e,t){if(void 0===t||!1===t)return!0;if(1<(a=e.split("_")).length){var i=n.find(C+"-"+a[0]);if(0<i.length){var o=a[1];"replaceWith"===o?i[0]!==t[0]&&i.replaceWith(t):"img"===o?i.is("img")?i.attr("src",t):i.replaceWith('<img src="'+t+'" class="'+i.attr("class")+'" />'):i.attr(a[1],t)}}else n.find(C+"-"+e).html(t)})},_getScrollbarSize:function(){if(void 0===g.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),g.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return g.scrollbarSize}},p.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return a(),(e=e?p.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return p.magnificPopup.instance&&p.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(p.magnificPopup.defaults[e]=t.options),p.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},p.fn.magnificPopup=function(e){a();var t=p(this);if("string"==typeof e)if("open"===e){var i,o=r?t.data("magnificPopup"):t[0].magnificPopup,n=parseInt(arguments[1],10)||0;i=o.items?o.items[n]:(i=t,o.delegate&&(i=i.find(o.delegate)),i.eq(n)),g._openClick({mfpEl:i},t,o)}else g.isOpen&&g[e].apply(g,Array.prototype.slice.call(arguments,1));else e=p.extend(!0,{},e),r?t.data("magnificPopup",e):t[0].magnificPopup=e,g.addGroup(t,e);return t};function I(){k&&(P.after(k.addClass(T)).detach(),k=null)}var T,P,k,x="inline";p.magnificPopup.registerModule(x,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){g.types.push(x),d(l+"."+x,function(){I()})},getInline:function(e,t){if(I(),e.src){var i=g.st.inline,o=p(e.src);if(o.length){var n=o[0].parentNode;n&&n.tagName&&(P||(T=i.hiddenClass,P=u(T),T="mfp-"+T),k=o.after(P).detach().removeClass(T)),g.updateStatus("ready")}else g.updateStatus("error",i.tNotFound),o=p("<div>");return e.inlineElement=o}return g.updateStatus("ready"),g._parseMarkup(t,{},e),t}}});var S;p.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=g.st.image,t=".image";g.types.push("image"),d(y+t,function(){"image"===g.currItem.type&&e.cursor&&p(document.body).addClass(e.cursor)}),d(l+t,function(){e.cursor&&p(document.body).removeClass(e.cursor),b.off("resize"+C)}),d("Resize"+t,g.resizeImage),g.isLowIE&&d("AfterChange",g.resizeImage)},resizeImage:function(){var e=g.currItem;if(e&&e.img&&g.st.image.verticalFit){var t=0;g.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",g.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,S&&clearInterval(S),e.isCheckingImgSize=!1,m("ImageHasSize",e),e.imgHidden&&(g.content&&g.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var i=0,o=t.img[0],n=function(e){S&&clearInterval(S),S=setInterval(function(){0<o.naturalWidth?g._onImageHasSize(t):(200<i&&clearInterval(S),3===++i?n(10):40===i?n(50):100===i&&n(500))},e)};n(1)},getImage:function(e,t){var i=0,o=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===g.currItem&&(g._onImageHasSize(e),g.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,m("ImageLoadComplete")):++i<200?setTimeout(o,100):n())},n=function(){e&&(e.img.off(".mfploader"),e===g.currItem&&(g._onImageHasSize(e),g.updateStatus("error",a.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},a=g.st.image,s=t.find(".mfp-img");if(s.length){var r=document.createElement("img");r.className="mfp-img",e.el&&e.el.find("img").length&&(r.alt=e.el.find("img").attr("alt")),e.img=p(r).on("load.mfploader",o).on("error.mfploader",n),r.src=e.src,s.is("img")&&(e.img=e.img.clone()),0<(r=e.img[0]).naturalWidth?e.hasSize=!0:r.width||(e.hasSize=!1)}return g._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=g.st.image.titleSrc;if(t){if(p.isFunction(t))return t.call(g,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),g.resizeImage(),e.hasSize?(S&&clearInterval(S),e.loadError?(t.addClass("mfp-loading"),g.updateStatus("error",a.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),g.updateStatus("ready"))):(g.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),g.findImageSize(e))),t}}});var E;p.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,a=g.st.zoom,t=".zoom";if(a.enabled&&g.supportsTransition){function i(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+a.duration/1e3+"s "+a.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},n="transition";return o["-webkit-"+n]=o["-moz-"+n]=o["-o-"+n]=o[n]=i,t.css(o),t}function o(){g.content.css("visibility","visible")}var n,s,r=a.duration;d("BuildControls"+t,function(){if(g._allowZoom()){if(clearTimeout(n),g.content.css("visibility","hidden"),!(e=g._getItemToZoom()))return void o();(s=i(e)).css(g._getOffset()),g.wrap.append(s),n=setTimeout(function(){s.css(g._getOffset(!0)),n=setTimeout(function(){o(),setTimeout(function(){s.remove(),e=s=null,m("ZoomAnimationEnded")},16)},r)},16)}}),d(c+t,function(){if(g._allowZoom()){if(clearTimeout(n),g.st.removalDelay=r,!e){if(!(e=g._getItemToZoom()))return;s=i(e)}s.css(g._getOffset(!0)),g.wrap.append(s),g.content.css("visibility","hidden"),setTimeout(function(){s.css(g._getOffset())},16)}}),d(l+t,function(){g._allowZoom()&&(o(),s&&s.remove(),e=null)})}},_allowZoom:function(){return"image"===g.currItem.type},_getItemToZoom:function(){return!!g.currItem.hasSize&&g.currItem.img},_getOffset:function(e){var t,i=(t=e?g.currItem.img:g.st.zoom.opener(g.currItem.el||g.currItem)).offset(),o=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10);i.top-=p(window).scrollTop()-o;var a={width:t.width(),height:(r?t.innerHeight():t[0].offsetHeight)-n-o};return void 0===E&&(E=void 0!==document.createElement("p").style.MozTransform),E?a["-moz-transform"]=a.transform="translate("+i.left+"px,"+i.top+"px)":(a.left=i.left,a.top=i.top),a}}});var O="retina";p.magnificPopup.registerModule(O,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=g.st.retina,o=i.ratio;1<(o=isNaN(o)?o():o)&&(d("ImageHasSize."+O,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/o,width:"100%"})}),d("ElementParse."+O,function(e,t){t.src=i.replaceSrc(t,o)}))}}}}),a()});;function Icegram_Message_Type_Toast(t){this.width=300,this.sticky=!1,this.duration=1e4,Icegram_Message_Type.apply(this,arguments)}Icegram_Message_Type_Toast.prototype=Object.create(Icegram_Message_Type.prototype),(Icegram_Message_Type_Toast.prototype.constructor=Icegram_Message_Type_Toast).prototype.get_template_default=function(){return'<li class="icegram ig_toast ig_container ig_{{=theme}} ig_cta" data="{{=id}}" id="icegram_message_{{=id}}"><div class="ig_wrapper"><div class="ig_content"><div class="ig_base"></div><div class="ig_line"></div><img class="ig_icon" src="{{=icon}}"/><div class="ig_headline">{{=headline}}</div><div class="ig_message">{{=message}}</div></div></div></li>'},Icegram_Message_Type_Toast.prototype.pre_render=function(){if("10"!=this.data.position&&"12"!=this.data.position||(this.data.position="20"),jQuery("ul#"+this.data.position).length)var t=jQuery("ul#"+this.data.position);else(t=jQuery('<ul id="'+this.data.position+'"></ul>').addClass("ig_toast_block").appendTo(this.root_container).hide()).width(this.width),"00"==this.data.position?t.css({top:"0",left:"0"}).addClass("ig_left").addClass("ig_top"):"01"==this.data.position?t.css({top:"0",left:"50%",margin:"5px 0 0 -"+this.width/2+"px"}).addClass("ig_center").addClass("ig_top"):"02"==this.data.position?t.css({top:"0",right:"0"}).addClass("ig_right").addClass("ig_top"):"20"==this.data.position?t.css({bottom:"0",left:"0"}).addClass("ig_left").addClass("ig_bottom"):"21"==this.data.position?t.css({bottom:"0",left:"50%",margin:"5px 0 0 -"+this.width/2+"px"}).addClass("ig_center").addClass("ig_bottom"):"22"==this.data.position?t.css({bottom:"0",right:"0"}).addClass("ig_right").addClass("ig_bottom"):"11"==this.data.position&&t.css({top:"50%",left:"50%",margin:"-"+this.width/2+"px 0 0 -"+this.width/2+"px"}).addClass("ig_center").addClass("ig_top");this.root_container=t},Icegram_Message_Type_Toast.prototype.pre_show=function(){this.root_container.hasClass("active")||this.root_container.addClass("active").show()},Icegram_Message_Type_Toast.prototype.post_show=function(){var t=this;!this.sticky&&0<this.duration&&setTimeout(function(){t.hide(),t.root_container.children().length||t.root_container.removeClass("active").hide()},this.duration)};